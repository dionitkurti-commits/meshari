<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Meshari Global Control</title>
<style>
body {
  background:#111; 
  color:white; 
  text-align:center;
  font-family:Arial; 
  padding:40px;
}
.slider { 
  width:80%; 
  height:30px; 
}
button { 
  padding:15px; 
  width:200px; 
  margin:10px; 
  font-size:20px; 
}
</style>
</head>
<body>

<h1>üåç Meshari Global Controller</h1>

<h3>Left / Right</h3>
<input id="lx" type="range" min="0" max="1" step="0.01" value="0" class="slider">

<h3>Up / Down</h3>
<input id="ly" type="range" min="0" max="1" step="0.01" value="0" class="slider">

<br><br>

<button onclick="sendFinger(1)">üñê Close Fingers</button>
<button onclick="sendFinger(0)">‚úã Open Fingers</button>

<script>
let server = "https://compilation-merit-essay-necessarily.trycloudflare.com/set";

let finger_state = 0;
let lastSend = 0;

function sendFinger(f) { 
    finger_state = f; 
}

function send() {
    const now = Date.now();
    if (now - lastSend < 70) return;  // keep safe interval
    lastSend = now;

    const lx = document.getElementById("lx").value;
    const ly = document.getElementById("ly").value;

    fetch(`${server}?lx=${lx}&ly=${ly}&fingers=${finger_state}`)
      .catch(()=>{});
}

setInterval(send, 80); 
</script>
</body>
</html>
